# Web3 錢包（Web3 Wallets）

## 定義

**Web3 錢包 = 與區塊鏈網路互動的入口工具**

錢包不僅是儲存加密貨幣的地方，更是管理數位身份、簽署交易、連接去中心化應用（dApp）的核心工具。在 Web3 世界中，錢包就是你的「護照」和「銀行帳戶」的結合體。

## 錢包類型總覽

### 託管錢包（Custodial Wallet）vs 非託管錢包（Non-Custodial Wallet）

| 特性 | 託管錢包 | 非託管錢包 |
|------|----------|------------|
| **私鑰控制** | 第三方保管 | 用戶自己掌控 |
| **使用門檻** | 低（類似傳統帳戶）| 中等（需學習）|
| **安全性** | 依賴服務商 | 依賴用戶自己 |
| **恢復方式** | 郵箱/手機驗證 | [[助記詞]]/[[私鑰]] |
| **代表** | 交易所錢包 | MetaMask、硬件錢包 |

**核心原則**：
> "Not your keys, not your coins"（不是你的私鑰，就不是你的幣）

非託管錢包才是真正意義上的 Web3 錢包，讓用戶擁有完全的資產控制權。

## 軟體錢包（Software Wallet）

### 瀏覽器插件錢包

| 錢包 | 特點 | 適合 |
|------|------|------|
| **MetaMask** | 最流行，EVM 鏈標準 | 新手入門 |
| **Rabby** | 安全提示優秀，UI 直觀 | 進階用戶 |
| **Phantom** | Solana 生態首選 | Solana 用戶 |
| **OKX Wallet** | 多鏈支援完整 | 交易所用戶 |

### 手機 App 錢包

| 錢包 | 特點 | 適合 |
|------|------|------|
| **Trust Wallet** | 幣安官方，多鏈支援 | 幣安生態用戶 |
| **Rainbow** | 設計美觀，以太坊專精 | iOS 用戶 |
| **Coinbase Wallet** | 與交易所整合 | Coinbase 用戶 |
| **Argent** | 智能合約錢包先驅 | 進階用戶 |

### 桌面錢包

- **Exodus**：多資產支援，內建交易功能
- **Atomic Wallet**：去中心化，支援質押
- **Electrum**：比特幣專用，輕量級

## 硬體錢包（Hardware Wallet）

### 什麼是硬體錢包

硬體錢包是一種專用設備，將 [[私鑰]] 儲存在離線的安全芯片中，是最安全的資產儲存方式。

### 主要品牌比較

| 品牌 | 價格 | 特點 | 支援幣種 |
|------|------|------|----------|
| **[[Ledger]] Nano S Plus** | $79 | 入門級，螢幕較小 | 5,500+ |
| **[[Ledger]] Nano X** | $149 | 藍牙連接，大容量 | 5,500+ |
| **[[Ledger]] Stax** | $279 | 大螢幕，電子墨水 | 5,500+ |
| **[[Trezor]] Model One** | $69 | 開源，經典設計 | 1,000+ |
| **[[Trezor]] Model T** | $219 | 觸控螢幕，進階功能 | 1,000+ |
| **[[GridPlus]] Lattice1** | $397 | 大螢幕，EVM 專精 | EVM 鏈 |

### 硬體錢包工作原理

```
電腦/手機          硬體錢包
    │                 │
    │  發起交易請求    │
    │───────────────►│
    │                 │
    │  在設備上確認    │
    │◄───────────────│（物理按鈕確認）
    │                 │
    │  返回簽名結果    │
    │◄───────────────│（私鑰不離開設備）
    │                 │
```

**關鍵安全特性**：
- 私鑰永遠不離開設備
- 交易必須在設備上物理確認
- 即使連接的電腦中毒，資產依然安全

## 紙錢包（Paper Wallet）

### 什麼是紙錢包

將 [[私鑰]] 和 [[助記詞]] 手寫或打印在紙上，完全離線儲存。

**優點**：
- ✅ 成本最低
- ✅ 完全隔離網路攻擊
- ✅ 無電子元件故障風險

**缺點**：
- ⚠️ 易損壞（火、水、蟲蛀）
- ⚠️ 易遺失
- ⚠️ 使用不便（需手動輸入）

### 紙錢包安全建議

1. **多份備份**：至少 2-3 份，存放在不同地點
2. **防火防水**：使用金屬助記詞板
3. **保密存放**：保險箱或銀行保管箱
4. **定期檢查**：確認紙張狀態良好

## 多簽錢包（Multisig Wallet）

### 什麼是多簽錢包

多簽錢包需要多個私鑰共同授權才能執行交易。例如 2-of-3 多簽表示 3 把鑰匙中需要 2 把簽名。

```
傳統錢包：              2-of-3 多簽錢包：

┌─────────┐           ┌─────────┐
│ 私鑰 A  │           │ 私鑰 A  │
└────┬────┘           └────┬────┘
     │                     │
     │                     │
     ▼                     ▼
┌─────────┐           ┌─────────┐
│  錢包   │           │ 多簽合約 │◄─────┐
└────┬────┘           └────┬────┘      │
     │                     │            │
     │                     │            │
     ▼                     ▼            │
  發送交易             需要 2/3 簽名    │
                                              │
                                        ┌─────┴─────┐
                                        │           │
                                   ┌────┴────┐ ┌────┴────┐
                                   │ 私鑰 B  │ │ 私鑰 C  │
                                   └─────────┘ └─────────┘
```

### 使用場景

| 場景 | 配置 | 說明 |
|------|------|------|
| **個人安全** | 2-of-3 | 分散風險，遺失一把仍可恢復 |
| **團隊資產** | 2-of-3 或 3-of-5 | 防止單人挪用 |
| **公司財務** | 3-of-5 或更高 | 多重審批流程 |
| **遺產規劃** | 2-of-3 | 家人可共同管理 |

### 多簽錢包工具

- **Gnosis Safe**：最流行的多簽解決方案
- **Safe**（原 Gnosis Safe）：支援多鏈
- **Electrum**：比特幣多簽
- **Sparrow Wallet**：比特幣進階多簽

## 智能合約錢包（AA 錢包 / Account Abstraction）

### 什麼是智能合約錢包

智能合約錢包（ERC-4337）是用智能合約實現的錢包，相比傳統 EOA（外部擁有帳戶）錢包具有更多功能。

### 傳統錢包 vs 智能合約錢包

| 特性 | 傳統 EOA 錢包 | 智能合約錢包 |
|------|---------------|--------------|
| **私鑰** | 必須有 | 可無（社交恢復）|
| **Gas 支付** | 只能用自己的 ETH | 可由第三方代付 |
| **批量交易** | 一筆一筆執行 | 可批量執行 |
| **恢復機制** | 助記詞唯一 | 社交恢復、多因素認證 |
| **可程式化** | 有限 | 完全可程式化 |

### 智能合約錢包功能

**1. 社交恢復（Social Recovery）**
```
忘記密碼/丟失設備？
    │
    ▼
聯繫 3 個信任的 Guardian（監護人）
    │
    ▼
Guardian 共同確認你的身份
    │
    ▼
重置錢包訪問權限
```

**2. 批量交易**
```
傳統方式：              智能合約錢包：
批准 Token ──► 等待    批准 + 交易 + 質押
交易 ──► 等待          （一筆交易完成）
質押
（3 筆交易，3 次 Gas）   （1 筆交易，1 次 Gas）
```

**3. Gas 抽象**
- 用任何 Token 支付 Gas（不用 ETH）
- 第三方代付 Gas（贊助交易）
- 訂閱制 Gas 支付

### 智能合約錢包代表

| 錢包 | 特點 |
|------|------|
| **Safe** | 企業級多簽 + AA 功能 |
| **Argent** | 先進的社交恢復 |
| **Braavos** | StarkNet 上的 AA 錢包 |
| **Patch Wallet** | 用戶體驗優化 |

## 如何使用錢包連接 dApp

### 基本流程

```
1. 訪問 dApp 網站
        │
        ▼
2. 點擊「Connect Wallet」
        │
        ▼
3. 選擇錢包類型（MetaMask、WalletConnect 等）
        │
        ▼
4. 錢包彈出確認視窗
        │
        ▼
5. 確認連接（簽名授權）
        │
        ▼
6. 開始使用 dApp
```

### 常見連接方式

| 方式 | 說明 | 使用場景 |
|------|------|----------|
| **瀏覽器注入** | 插件錢包自動注入 window.ethereum | 桌面瀏覽器 |
| **WalletConnect** | 掃描 QR Code 連接 | 手機錢包連接 |
| **Coinbase SDK** | Coinbase 專用整合 | Coinbase 生態 |
| **Email/社交登入** | Web2 方式登入 Web3 | 新手友善 |

### 連接時的安全檢查清單

- [ ] 確認網站 URL 正確（防釣魚）
- [ ] 檢查連接權限範圍
- [ ] 不要隨意簽署不明消息
- [ ] 定期檢查並撤銷不再使用的連接
- [ ] 使用獨立的「熱錢包」進行日常交互

## 安全最佳實踐

### 錢包配置策略

```
┌─────────────────────────────────────────────────────┐
│                    資產分配策略                      │
├─────────────────────────────────────────────────────┤
│                                                     │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────┐ │
│  │  冷錢包     │    │  日常熱錢包  │    │ 實驗錢包│ │
│  │ （90%）     │    │  （9%）     │    │ （1%）  │ │
│  │             │    │             │    │         │ │
│  │ 長期持有    │    │ 日常交易    │    │ 新項目  │ │
│  │ 硬件錢包    │    │ DeFi 操作   │    │ 空投交互│ │
│  └─────────────┘    └─────────────┘    └─────────┘ │
│                                                     │
└─────────────────────────────────────────────────────┘
```

### 核心安全原則

**🔐 私鑰管理**
- 永遠不截圖、不拍照保存 [[助記詞]]
- 手寫備份，存放在安全地點
- 考慮使用金屬助記詞板
- 絕不在任何網站輸入私鑰

**🛡️ 設備安全**
- 使用專用設備管理大額資產
- 保持系統和錢包軟體更新
- 安裝可靠的防毒軟體
- 避免使用公共 WiFi 進行交易

**⚠️ 防範詐騙**
- 警惕假冒的客服和技術支援
- 不點擊不明連結
- 仔細檢查交易內容和授權權限
- 大額交易前先小額測試

**🔄 定期維護**
- 定期檢查合約授權（使用 Revoke.cash）
- 更新錢包軟體到最新版本
- 審查已連接的 dApp
- 測試助記詞備份是否正確

### 各類資產推薦錢包

| 資產類型 | 推薦錢包類型 | 具體選擇 |
|----------|--------------|----------|
| **大額長期持有** | 硬體錢包 | Ledger、Trezor |
| **日常交易** | 軟體錢包 | MetaMask、Rabby |
| **DeFi 操作** | 瀏覽器插件 | Rabby、MetaMask |
| **NFT 收藏** | 專用錢包 | Rainbow、Phantom |
| **團隊資產** | 多簽錢包 | Safe |
| **新手入門** | 智能合約錢包 | Argent |

## 總結

選擇適合的錢包是 Web3 旅程的第一步：

- **安全性優先**：大額資產使用硬體錢包
- **分層管理**：不同用途使用不同錢包
- **備份為王**：助記詞多份離線備份
- **持續學習**：跟進錢包技術發展（如 AA 錢包）

記住：在 Web3 中，你是自己的銀行，也是自己的保安。

---

**相關術語**：[[冷錢包]]、[[熱錢包]]、[[私鑰]]、[[助記詞]]、[[硬件錢包]]、[[Ledger]]、[[Trezor]]
