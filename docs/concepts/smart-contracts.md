# 智能合約

## 一句話解釋

**智能合約 = 自動執行的程式碼**，寫在區塊鏈上，條件滿足就自動執行。

## 比喻：自動販賣機

- 投入硬幣 → 選擇商品 → 商品掉出來
- 沒有店員、不需要信任任何人
- 條件滿足（錢對了），結果自動發生

智能合約就是數位版的自動販賣機。

## 經典例子

### 1. 如果下雨，保險理賠
```
條件：氣象局報告降雨 > 50mm
結果：自動轉帳理賠金到投保人錢包
```

### 2. 借貸平台（Aave/Compound）
```
條件：存入 ETH 作為抵押
結果：自動借出 USDC，利率由程式碼決定

條件：ETH 價格下跌，抵押率不足
結果：自動清算，賣出 ETH 還債
```

## 智能合約能做什麼？

| 應用 | 說明 |
|------|------|
| **DeFi** | 借貸、交易、收益農場 |
| **NFT** | 自動分配版稅、認證所有權 |
| **DAO** | 自動執行投票結果 |
| **GameFi** | 遊戲資產自動交易 |
| **保險** | 條件觸發自動理賠 |

## 智能合約的風險

### ⚠️ Code is Law
- 合約有 bug = 可能被駭
- 沒有「對不起我搞錯了可以退回嗎」
- 2016 The DAO 事件：360 萬 ETH 被盜

### ⚠️ 無法升級（通常）
- 寫上去就改不了
- 有些合約有「管理員密鑰」，但這又代表中心化

### ⚠️ 預言機問題（Oracle Problem）
- 合約需要外部資料（如 ETH 價格）
- 資料源被操控 = 合約被操控

## 如何查合約是否安全？

| 工具 | 用途 |
|------|------|
| [Etherscan](https://etherscan.io) | 查看合約原始碼 |
| [DeFi Llama](https://defillama.com) | 看協議 TVL、歷史 |
| [CertiK](https://certik.com) | 查合約審計報告 |
| [Rekt News](https://rekt.news) | 看被駭案例學教訓 |

### 檢查清單

- [ ] 合約有開源嗎？
- [ ] 有第三方審計嗎？
- [ ] 運作了多久？（越久通常越穩）
- [ ] TVL（鎖倉量）多少？
- [ ] 有被駭過的歷史嗎？

---

> 🔴 **Nakamoto 警報**> 
> 永遠記得：智能合約是程式碼，程式碼可能有 bug。> 
003e 不要把全部家當丟進一個新合約，即使是「審計過」的。> > 新合約 = 高風險。被駭通常是前幾週發生。
